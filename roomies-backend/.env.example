# üè† Roomies Backend Configuration
# Copy this file to .env and update with your actual values

# Server Configuration
PORT=3000
NODE_ENV=development
CLIENT_URL=http://localhost:3000

# Database Configuration
DATABASE_URL=postgresql://localhost:5432/roomies_dev
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=roomies_user
DB_PASSWORD=secure_password
DB_DATABASE=roomies_dev

# Redis Configuration (for caching and sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production-make-it-long-and-random
JWT_EXPIRES_IN=7d

# CloudKit Configuration
# ‚ö†Ô∏è  IMPORTANT: Set to 'true' only when you have a paid Apple Developer account
# Free accounts cannot access CloudKit, iCloud, or Apple cloud services
CLOUDKIT_ENABLED=false
CLOUDKIT_CONTAINER_ID=iCloud.com.yourcompany.roomies
CLOUDKIT_API_TOKEN=
CLOUDKIT_ENVIRONMENT=development

# Logging Configuration
LOG_LEVEL=debug

# Email Configuration (for password reset - optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=noreply@roomies.app

# Push Notifications (Apple Push Notification Service)
APNS_KEY_ID=
APNS_TEAM_ID=
APNS_BUNDLE_ID=com.yourcompany.roomies
APNS_PRIVATE_KEY_PATH=./certs/AuthKey_[KEY_ID].p8
APNS_PRODUCTION=false

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_DIR=uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_REAL_TIME_SYNC=true
ENABLE_BACKGROUND_TASKS=true
ENABLE_NOTIFICATIONS=true

# Development/Testing Settings
ENABLE_SAMPLE_DATA=true
ENABLE_DEBUG_ENDPOINTS=false

# Security Configuration
BCRYPT_ROUNDS=12
SESSION_SECRET=another-super-secret-key-for-sessions

# API Configuration
API_VERSION=v1
MAX_REQUEST_SIZE=10mb

# Third-Party Integrations (Optional)
SENTRY_DSN=
GOOGLE_ANALYTICS_ID=

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1000

# CloudKit-Specific Settings (for when paid account is available)
# These settings will be enabled when CLOUDKIT_ENABLED=true

# CloudKit Database Settings
CLOUDKIT_PUBLIC_DATABASE=true
CLOUDKIT_PRIVATE_DATABASE=false

# CloudKit Record Types
CLOUDKIT_SYNC_HOUSEHOLDS=true
CLOUDKIT_SYNC_TASKS=true
CLOUDKIT_SYNC_ACTIVITIES=true
CLOUDKIT_SYNC_MEMBERSHIPS=true

# CloudKit Sync Configuration
CLOUDKIT_SYNC_INTERVAL=300000
CLOUDKIT_BATCH_SIZE=100
CLOUDKIT_RETRY_ATTEMPTS=3

# CloudKit Error Handling
CLOUDKIT_FAIL_ON_ERROR=false
CLOUDKIT_LOG_SYNC_OPERATIONS=true
